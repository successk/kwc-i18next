<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <script src="../../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
  <script src="../../bower_components/web-component-tester/browser.js"></script>
  <link rel="import" href="../../kwc-i18next.html">
</head>
<body>

<kwc-i18next key="plural:key" p-count="0" id="plural0"></kwc-i18next>
<kwc-i18next key="plural:key" p-count="1" id="plural1"></kwc-i18next>
<kwc-i18next key="plural:key" p-count="5" id="plural5"></kwc-i18next>
<kwc-i18next key="plural:key" p-count="100" id="plural100"></kwc-i18next>
<kwc-i18next key="plural:keyWithCount" p-count="0" id="pluralCount0"></kwc-i18next>
<kwc-i18next key="plural:keyWithCount" p-count="1" id="pluralCount1"></kwc-i18next>
<kwc-i18next key="plural:keyWithCount" p-count="5" id="pluralCount5"></kwc-i18next>
<kwc-i18next key="plural:keyWithCount" p-count="100" id="pluralCount100"></kwc-i18next>

<script src="../../bower_components/i18next/i18next.min.js"></script>
<script>
  (function () {
    i18next
        .init({
          lng: "en",
          fallbackLng: "en",
          resources: {
            en: {
              plural: {
                "key": "item",
                "key_plural": "items",
                "keyWithCount": "{{count}} item",
                "keyWithCount_plural": "{{count}} items"
              }
            }
          }
        });
  })()
</script>
<script>
  suite("<kwc-i18next> plural", function () {
    test("plural:key 0", function (done) {
      var plural = document.querySelector("#plural0");
      flush(function () {
        assert.equal(plural.var, "items");
        done();
      });
    });

    test("plural:key 1", function (done) {
      var plural = document.querySelector("#plural1");
      flush(function () {
        assert.equal(plural.var, "item");
        done();
      });
    });

    test("plural:key 5", function (done) {
      var plural = document.querySelector("#plural5");
      flush(function () {
        assert.equal(plural.var, "items");
        done();
      });
    });

    test("plural:key 100", function (done) {
      var plural = document.querySelector("#plural100");
      flush(function () {
        assert.equal(plural.var, "items");
        done();
      });
    });

    test("plural:keyWithCount 0", function (done) {
      var plural = document.querySelector("#pluralCount0");
      flush(function () {
        assert.equal(plural.var, "0 items");
        done();
      });
    });

    test("plural:keyWithCount 1", function (done) {
      var plural = document.querySelector("#pluralCount1");
      flush(function () {
        assert.equal(plural.var, "1 item");
        done();
      });
    });

    test("plural:keyWithCount 5", function (done) {
      var plural = document.querySelector("#pluralCount5");
      flush(function () {
        assert.equal(plural.var, "5 items");
        done();
      });
    });

    test("plural:keyWithCount 100", function (done) {
      var plural = document.querySelector("#pluralCount100");
      flush(function () {
        assert.equal(plural.var, "100 items");
        done();
      });
    });
  });
</script>
</body>
</html>